2023-08-29 11:46:38.219 -03:00 [INF] Inicialização da WEB API...
2023-08-29 11:46:38.429 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 11:46:38.559 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 11:46:38.560 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 11:46:38.566 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 11:46:38.566 -03:00 [INF] Hosting environment: Development
2023-08-29 11:46:38.566 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 11:46:39.123 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 11:46:39.522 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 410.4426ms
2023-08-29 11:46:39.532 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 11:46:39.533 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 11:46:39.537 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 5.4266ms
2023-08-29 11:46:39.568 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.9933ms
2023-08-29 11:46:39.689 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 11:46:39.894 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 204.4358ms
2023-08-29 11:47:15.799 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 47
2023-08-29 11:47:16.053 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 11:47:16.084 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 11:47:16.700 -03:00 [INF] Iniciando verificação do nome: 'Teste'.
2023-08-29 11:47:16.701 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 11:47:16.702 -03:00 [INF] Foi requisitado uma edição de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 11:47:16.703 -03:00 [INF] Iniciada edição da categoria "869bd076-ebf8-49b3-8bac-d2ea2d7207d0".
2023-08-29 11:47:18.028 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 11:47:18.114 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 2026.8227ms
2023-08-29 11:47:18.115 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 11:47:18.119 -03:00 [ERR] Erro: {"TraceId":"870b528d-b7b0-410b-aed4-b3d2f1b93582","Error":{"Logref":"BadRequest","Message":"A edição não foi realizada, pois os valores não foram alterados.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 11:47:18.165 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 47 - 400 - application/json 2365.5343ms
2023-08-29 11:49:46.694 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48
2023-08-29 11:49:46.695 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 11:49:46.695 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 11:49:46.702 -03:00 [INF] Iniciando verificação do nome: 'Teste'.
2023-08-29 11:49:46.702 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 11:49:46.702 -03:00 [INF] Foi requisitado uma edição de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 11:49:46.702 -03:00 [INF] Iniciada edição da categoria "869bd076-ebf8-49b3-8bac-d2ea2d7207d0".
2023-08-29 11:49:46.705 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 11:49:46.855 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`CategoriaId` = @__get_Item_0
2023-08-29 11:49:46.879 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`SubcategoriaId` = @__get_Item_0
2023-08-29 11:49:46.884 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`SubcategoriaId` = @__get_Item_0
2023-08-29 11:49:46.886 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`SubcategoriaId` = @__get_Item_0
2023-08-29 11:49:46.888 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`SubcategoriaId` = @__get_Item_0
2023-08-29 11:49:46.889 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 11:49:46.893 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 11:49:46.897 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 11:49:46.920 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 11:49:46.938 -03:00 [INF] Status da subcategoria '"537325e3-2ecb-448c-978c-a24dfa4f2a9c"' alterado.
2023-08-29 11:49:46.938 -03:00 [INF] Status da subcategoria '"6571011d-60f1-4eea-9d9f-901047b921a3"' alterado.
2023-08-29 11:49:46.938 -03:00 [INF] Status da subcategoria '"aa6e7145-2b0b-4ecf-90ab-e58152c405a5"' alterado.
2023-08-29 11:49:46.938 -03:00 [INF] Status da subcategoria '"d1690b53-0883-4894-969e-cfca4ed8c556"' alterado.
2023-08-29 11:49:47.027 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p13='?' (DbType = Guid), @p11='?' (DbType = DateTime), @p12='?' (DbType = Boolean), @p16='?' (DbType = Guid), @p14='?' (DbType = DateTime), @p15='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categorias` SET `DataEHoraCriacao` = @p0, `DataEHoraModificacao` = @p1, `Nome` = @p2, `Status` = @p3
WHERE `Id` = @p4;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p5, `Status` = @p6
WHERE `Id` = @p7;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p8, `Status` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p11, `Status` = @p12
WHERE `Id` = @p13;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p14, `Status` = @p15
WHERE `Id` = @p16;
SELECT ROW_COUNT();
2023-08-29 11:49:47.039 -03:00 [INF] Categoria atualizada no banco de dados.
2023-08-29 11:49:47.039 -03:00 [INF] Categoria editada com sucesso.
2023-08-29 11:49:47.042 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-29 11:49:47.042 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 347.0429ms
2023-08-29 11:49:47.042 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 11:49:47.043 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48 - 204 - - 348.6055ms
2023-08-29 12:06:50.219 -03:00 [INF] Inicialização da WEB API...
2023-08-29 12:06:50.326 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 12:06:50.431 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 12:06:50.431 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 12:06:50.434 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 12:06:50.434 -03:00 [INF] Hosting environment: Development
2023-08-29 12:06:50.434 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 12:06:50.836 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 12:06:51.049 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 214.7403ms
2023-08-29 12:06:51.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 12:06:51.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 12:06:51.052 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 1.8980ms
2023-08-29 12:06:51.062 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.7795ms
2023-08-29 12:06:51.391 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 12:06:51.491 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.3416ms
2023-08-29 12:07:06.738 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 85
2023-08-29 12:07:06.774 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 12:07:06.778 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 12:07:06.778 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 85 - 401 0 - 40.2766ms
2023-08-29 12:07:10.477 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 85
2023-08-29 12:07:10.570 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 12:07:10.575 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 12:07:10.576 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 12:07:10.577 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 12:07:10.578 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 85 - 401 0 - 100.3213ms
2023-08-29 12:07:16.330 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 85
2023-08-29 12:07:16.354 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.SubcategoriaController.CadastrarSubcategoria (E-Commerce(API))'
2023-08-29 12:07:16.373 -03:00 [INF] Route matched with {action = "CadastrarSubcategoria", controller = "Subcategoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarSubcategoria(E_Commerce_API_.Data.DTOs.SubcategoriaDto.CreateSubcategoriaDto) on controller E_Commerce_API_.Controllers.SubcategoriaController (E-Commerce(API)).
2023-08-29 12:07:16.751 -03:00 [INF] Iniciando verificação do nome: 'Carne'.
2023-08-29 12:07:16.752 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 12:07:16.755 -03:00 [INF] Foi requisitado um cadastro de subcategoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:07:16.755 -03:00 [INF] Iniciada adição de uma nova subcategoria.
2023-08-29 12:07:17.609 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 12:07:17.664 -03:00 [INF] Executed action E_Commerce_API_.Controllers.SubcategoriaController.CadastrarSubcategoria (E-Commerce(API)) in 1287.9688ms
2023-08-29 12:07:17.664 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.SubcategoriaController.CadastrarSubcategoria (E-Commerce(API))'
2023-08-29 12:07:17.667 -03:00 [ERR] Erro: {"TraceId":"f8f6cdea-d423-49b1-a813-46bdb2c14485","Error":{"Logref":"BadRequest","Message":"A categoria '6ffa8718-d7a8-49e8-a3e8-5c87326cccd3' está inativa e não pode receber novos cadastros.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:07:17.695 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Subcategoria application/json 85 - 400 - application/json 1364.8435ms
2023-08-29 12:08:20.749 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/Subcategoria/d27a1327-7763-4a64-9fbd-cd7b1c967496 - -
2023-08-29 12:08:20.749 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 12:08:20.749 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 12:08:20.749 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/Subcategoria/d27a1327-7763-4a64-9fbd-cd7b1c967496 - - - 401 0 - 0.5799ms
2023-08-29 12:08:45.815 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/Subcategoria/d27a1327-7763-4a64-9fbd-cd7b1c967496 - -
2023-08-29 12:08:45.816 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.SubcategoriaController.RemoverSubcategoria (E-Commerce(API))'
2023-08-29 12:08:45.817 -03:00 [INF] Route matched with {action = "RemoverSubcategoria", controller = "Subcategoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverSubcategoria(System.Guid) on controller E_Commerce_API_.Controllers.SubcategoriaController (E-Commerce(API)).
2023-08-29 12:08:45.821 -03:00 [INF] Foi requisitado uma remoção de subcategoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:08:45.822 -03:00 [INF] Iniciada remoção da subcategoria "d27a1327-7763-4a64-9fbd-cd7b1c967496".
2023-08-29 12:08:45.833 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 12:08:45.844 -03:00 [INF] Executed action E_Commerce_API_.Controllers.SubcategoriaController.RemoverSubcategoria (E-Commerce(API)) in 26.8185ms
2023-08-29 12:08:45.844 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.SubcategoriaController.RemoverSubcategoria (E-Commerce(API))'
2023-08-29 12:08:45.844 -03:00 [ERR] Erro: {"TraceId":"d0b00975-4786-4dd3-b056-e753f1d60eb7","Error":{"Logref":"NotFound","Message":"Id de subcategoria informada para remoção não existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:08:45.845 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/Subcategoria/d27a1327-7763-4a64-9fbd-cd7b1c967496 - - - 404 - application/json 29.2666ms
2023-08-29 12:23:14.773 -03:00 [INF] Inicialização da WEB API...
2023-08-29 12:23:14.880 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 12:23:14.977 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 12:23:14.977 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 12:23:14.979 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 12:23:14.979 -03:00 [INF] Hosting environment: Development
2023-08-29 12:23:14.979 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 12:23:15.457 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 12:23:15.649 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 194.0248ms
2023-08-29 12:23:15.652 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 12:23:15.652 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 12:23:15.654 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.0440ms
2023-08-29 12:23:15.663 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.3008ms
2023-08-29 12:23:15.907 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 12:23:16.020 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.6930ms
2023-08-29 12:23:51.597 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Produto application/json 366
2023-08-29 12:23:51.895 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API))'
2023-08-29 12:23:51.917 -03:00 [INF] Route matched with {action = "CadastrarProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarProduto(E_Commerce_API_.Data.DTOs.ProdutoDto.CreateProdutoDto) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-08-29 12:23:52.431 -03:00 [INF] Foi requisitado um cadastro de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:23:52.431 -03:00 [INF] Iniciada adição de um novo produto.
2023-08-29 12:23:53.734 -03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 12:23:53.823 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API)) in 1902.552ms
2023-08-29 12:23:53.824 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.CadastrarProduto (E-Commerce(API))'
2023-08-29 12:23:53.829 -03:00 [ERR] Erro: {"TraceId":"0bc15665-2972-439c-a4ae-ecbea64a7463","Error":{"Logref":"BadRequest","Message":"A subcategoria 'Testando Logs Sucesso' está inativa e não pode receber novos cadastros de produtos.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:23:53.868 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Produto application/json 366 - 400 - application/json 2271.4556ms
2023-08-29 12:24:26.139 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/Produto/12c50c7d-5bd3-4e2e-a304-cee9015792fd - -
2023-08-29 12:24:26.140 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API))'
2023-08-29 12:24:26.142 -03:00 [INF] Route matched with {action = "RemoverProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverProduto(System.Guid) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-08-29 12:24:26.150 -03:00 [INF] Foi requisitado uma remoção de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:24:26.151 -03:00 [INF] Iniciada remoção do produto '"12c50c7d-5bd3-4e2e-a304-cee9015792fd"'.
2023-08-29 12:24:26.162 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 12:24:26.184 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API)) in 41.9461ms
2023-08-29 12:24:26.184 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API))'
2023-08-29 12:24:26.184 -03:00 [ERR] Erro: {"TraceId":"034648c6-cd3f-4281-bc42-6e57b9f77398","Error":{"Logref":"NotFound","Message":"Id de produto informado para remoção não existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:24:26.185 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/Produto/12c50c7d-5bd3-4e2e-a304-cee9015792fd - - - 404 - application/json 46.0305ms
2023-08-29 12:25:22.102 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/Produto/12c50c7d-5bd3-4e2e-a304-cee9015792fd - -
2023-08-29 12:25:22.104 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API))'
2023-08-29 12:25:22.105 -03:00 [INF] Route matched with {action = "RemoverProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverProduto(System.Guid) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-08-29 12:25:22.113 -03:00 [INF] Foi requisitado uma remoção de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:25:22.113 -03:00 [INF] Iniciada remoção do produto '"12c50c7d-5bd3-4e2e-a304-cee9015792fd"'.
2023-08-29 12:25:22.158 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 12:25:22.158 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API)) in 53.6569ms
2023-08-29 12:25:22.159 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API))'
2023-08-29 12:25:22.159 -03:00 [ERR] Erro: {"TraceId":"9b923cb5-8500-4078-b872-bcdce343cb25","Error":{"Logref":"NotFound","Message":"Id de produto informado para remoção não existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:25:22.159 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/Produto/12c50c7d-5bd3-4e2e-a304-cee9015792fd - - - 404 - application/json 57.2692ms
2023-08-29 12:25:31.055 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/Produto/12c50c7d-5bd3-4e2e-a304-cee9015792fd - -
2023-08-29 12:25:31.056 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API))'
2023-08-29 12:25:31.056 -03:00 [INF] Route matched with {action = "RemoverProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverProduto(System.Guid) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-08-29 12:25:31.057 -03:00 [INF] Foi requisitado uma remoção de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:25:31.057 -03:00 [INF] Iniciada remoção do produto '"12c50c7d-5bd3-4e2e-a304-cee9015792fd"'.
2023-08-29 12:25:31.059 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 12:25:31.060 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API)) in 3.9432ms
2023-08-29 12:25:31.060 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API))'
2023-08-29 12:25:31.060 -03:00 [ERR] Erro: {"TraceId":"dc57797b-d2c6-4c61-8452-2d0c14bec80d","Error":{"Logref":"NotFound","Message":"Id de produto informado para remoção não existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:25:31.061 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/Produto/12c50c7d-5bd3-4e2e-a304-cee9015792fd - - - 404 - application/json 5.5346ms
2023-08-29 12:25:43.548 -03:00 [INF] Inicialização da WEB API...
2023-08-29 12:25:43.671 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 12:25:43.771 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 12:25:43.772 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 12:25:43.774 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 12:25:43.774 -03:00 [INF] Hosting environment: Development
2023-08-29 12:25:43.774 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 12:25:44.244 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 12:25:44.440 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 12:25:44.440 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 12:25:44.440 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 198.4999ms
2023-08-29 12:25:44.442 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.0407ms
2023-08-29 12:25:44.451 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.1818ms
2023-08-29 12:25:44.710 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 12:25:44.826 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.4758ms
2023-08-29 12:25:46.520 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/Produto/12c50c7d-5bd3-4e2e-a304-cee9015792fd - -
2023-08-29 12:25:46.650 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API))'
2023-08-29 12:25:46.672 -03:00 [INF] Route matched with {action = "RemoverProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverProduto(System.Guid) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-08-29 12:25:46.975 -03:00 [INF] Foi requisitado uma remoção de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:25:46.975 -03:00 [INF] Iniciada remoção do produto "12c50c7d-5bd3-4e2e-a304-cee9015792fd".
2023-08-29 12:25:47.762 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 12:25:47.838 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API)) in 1162.4956ms
2023-08-29 12:25:47.838 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.RemoverProduto (E-Commerce(API))'
2023-08-29 12:25:47.842 -03:00 [ERR] Erro: {"TraceId":"ddf940c7-624e-49b6-a5ce-5a198c7ea938","Error":{"Logref":"NotFound","Message":"Id de produto informado para remoção não existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:25:47.912 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/Produto/12c50c7d-5bd3-4e2e-a304-cee9015792fd - - - 404 - application/json 1391.7434ms
2023-08-29 12:29:12.080 -03:00 [INF] Inicialização da WEB API...
2023-08-29 12:29:12.199 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 12:29:12.293 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 12:29:12.293 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 12:29:12.295 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 12:29:12.295 -03:00 [INF] Hosting environment: Development
2023-08-29 12:29:12.295 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 12:29:12.805 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 12:29:12.999 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 12:29:12.999 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 12:29:12.999 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 196.0520ms
2023-08-29 12:29:13.002 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.6747ms
2023-08-29 12:29:13.014 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.6492ms
2023-08-29 12:29:13.248 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 12:29:13.362 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.8857ms
2023-08-29 12:29:33.131 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 12:29:33.337 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 12:29:33.389 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 12:29:33.913 -03:00 [INF] Foi requisitado um cadastro de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:29:33.914 -03:00 [INF] Iniciada adição de um novo centro de distribuição.
2023-08-29 12:29:35.184 -03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 12:29:35.256 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 12:29:35.321 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 12:29:35.364 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 12:29:35.400 -03:00 [INF] Iniciada pesquisa do CEP '00000000'.
2023-08-29 12:29:36.485 -03:00 [INF] Pesquisa do CEP finalizada. Resposta: {
  "erro": true
}
2023-08-29 12:29:36.520 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 3125.7331ms
2023-08-29 12:29:36.521 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 12:29:36.527 -03:00 [ERR] Erro: {"TraceId":"89fa0bfc-eb97-493b-b633-35d3010362b6","Error":{"Logref":"BadRequest","Message":"O CEP '00000000' não existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:29:36.568 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 400 - application/json 3436.5620ms
2023-08-29 12:29:54.442 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/a7aa8922-d39c-43b3-8a63-cd93709bebef - -
2023-08-29 12:29:54.445 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API))'
2023-08-29 12:29:54.449 -03:00 [INF] Route matched with {action = "RemoverCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverCD(System.Guid) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 12:29:54.453 -03:00 [INF] Foi requisitado uma remoção de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:29:54.453 -03:00 [INF] Iniciada remoção do centro de distribuição "a7aa8922-d39c-43b3-8a63-cd93709bebef".
2023-08-29 12:29:54.457 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 12:29:54.459 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API)) in 10.2943ms
2023-08-29 12:29:54.459 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API))'
2023-08-29 12:29:54.459 -03:00 [ERR] Erro: {"TraceId":"8ee48a5e-76a7-42b0-a8f5-6c3b253b9d7a","Error":{"Logref":"NotFound","Message":"Id de centro de distribuição informado para edição não existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 12:29:54.460 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/a7aa8922-d39c-43b3-8a63-cd93709bebef - - - 404 - application/json 17.7833ms
2023-08-29 12:30:14.427 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/CentroDeDistribuicao/3cd8728a-c1c9-4f38-930b-862183e924ef application/json 152
2023-08-29 12:30:14.432 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.EditarCD (E-Commerce(API))'
2023-08-29 12:30:14.434 -03:00 [INF] Route matched with {action = "EditarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCD(System.Guid, E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.UpdateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 12:30:14.454 -03:00 [INF] Foi requisitado uma edição de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 12:30:14.455 -03:00 [INF] Iniciada edição do centro de distribuição "3cd8728a-c1c9-4f38-930b-862183e924ef".
2023-08-29 12:30:14.501 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 12:30:14.503 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 12:30:14.504 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 12:30:14.507 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 12:30:14.508 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 12:30:14.710 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`CentroDeDistribuicaoId` = @__get_Item_0
2023-08-29 12:30:14.712 -03:00 [INF] Iniciada pesquisa do CEP '07179510'.
2023-08-29 12:30:16.310 -03:00 [INF] Pesquisa do CEP finalizada. Resposta: {
  "cep": "07179-510",
  "logradouro": "Rua Camacan",
  "complemento": "",
  "bairro": "Nova Ponte Alta",
  "localidade": "Guarulhos",
  "uf": "SP",
  "ibge": "3518800",
  "gia": "3360",
  "ddd": "11",
  "siafi": "6477"
}
2023-08-29 12:30:16.342 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 12:30:16.474 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (Size = 128), @p1='?' (Size = 8), @p2='?' (Size = 128), @p3='?' (Size = 128), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 128), @p7='?' (Size = 128), @p8='?' (DbType = UInt32), @p9='?' (DbType = Boolean), @p10='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CentrosDeDistribuicao` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `DataEHoraCriacao` = @p4, `DataEHoraModificacao` = @p5, `Logradouro` = @p6, `Nome` = @p7, `Numero` = @p8, `Status` = @p9, `UF` = @p10
WHERE `Id` = @p11;
SELECT ROW_COUNT();
2023-08-29 12:30:16.482 -03:00 [INF] Centro de distribuição atualizado no banco de dados.
2023-08-29 12:30:16.482 -03:00 [INF] Centro de distribuição editado com sucesso.
2023-08-29 12:30:16.488 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-29 12:30:16.488 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.EditarCD (E-Commerce(API)) in 2053.4972ms
2023-08-29 12:30:16.488 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.EditarCD (E-Commerce(API))'
2023-08-29 12:30:16.488 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/CentroDeDistribuicao/3cd8728a-c1c9-4f38-930b-862183e924ef application/json 152 - 204 - - 2061.2803ms
2023-08-29 12:38:59.629 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 31
2023-08-29 12:38:59.637 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 12:38:59.645 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 12:38:59.646 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 12:38:59.651 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 12:38:59.652 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 31 - 401 0 - 22.6944ms
2023-08-29 12:51:48.310 -03:00 [INF] Inicialização da WEB API...
2023-08-29 12:52:56.925 -03:00 [INF] Inicialização da WEB API...
2023-08-29 12:54:15.148 -03:00 [INF] Inicialização da WEB API...
2023-08-29 13:12:06.518 -03:00 [INF] Inicialização da WEB API...
2023-08-29 13:12:06.622 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 13:12:06.702 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 13:12:06.702 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 13:12:06.704 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 13:12:06.704 -03:00 [INF] Hosting environment: Development
2023-08-29 13:12:06.704 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 13:12:07.184 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 13:12:07.366 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 183.6956ms
2023-08-29 13:12:07.371 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 13:12:07.371 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 13:12:07.373 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 1.8407ms
2023-08-29 13:12:07.386 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.1044ms
2023-08-29 13:12:07.691 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 13:12:07.789 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 97.4874ms
2023-08-29 13:12:23.467 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7296/Categoria application/json-patch+json 21
2023-08-29 13:12:23.511 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 13:12:23.514 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 13:12:23.515 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7296/Categoria application/json-patch+json 21 - 401 0 - 48.0725ms
2023-08-29 13:12:49.075 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 31
2023-08-29 13:12:49.076 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 13:12:49.077 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 13:12:49.077 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 31 - 401 0 - 2.3413ms
2023-08-29 13:13:02.483 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 31
2023-08-29 13:13:02.610 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:13:02.638 -03:00 [INF] Route matched with {action = "CadastrarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarCategoria(E_Commerce_API_.Data.DTOs.CategoriaDto.CreateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:13:03.189 -03:00 [INF] Iniciando verificação do nome: 'Açougue  D'.
2023-08-29 13:13:03.192 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 13:13:03.195 -03:00 [INF] Foi requisitado um cadastro de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 13:13:03.195 -03:00 [INF] Iniciada adição de uma nova categoria: 'Açougue  D'.
2023-08-29 13:13:04.466 -03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:13:04.562 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 13:13:04.595 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 13:13:04.649 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 13:13:04.685 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API)) in 2043.1861ms
2023-08-29 13:13:04.685 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:13:04.691 -03:00 [ERR] Erro: {"TraceId":"77bd366f-9242-45c8-9030-b2d87cb7f7cf","Error":{"Logref":"BadRequest","Message":"O nome 'Açougue  D' já existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 13:13:04.723 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 31 - 400 - application/json 2239.9259ms
2023-08-29 13:13:55.248 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 6
2023-08-29 13:13:55.249 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:13:55.249 -03:00 [INF] Route matched with {action = "CadastrarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarCategoria(E_Commerce_API_.Data.DTOs.CategoriaDto.CreateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:13:55.252 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API)) in 2.898ms
2023-08-29 13:13:55.252 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:13:55.252 -03:00 [ERR] Ocorreu uma exceção: {"TraceId":"4d289eb9-ead3-44ef-bb8e-d5bf848d36a6","Error":{"Logref":"InternalServerError","Message":"Object reference not set to an instance of an object.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 13:13:55.253 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 6 - 500 - application/json 4.3798ms
2023-08-29 13:14:10.222 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 31
2023-08-29 13:14:10.222 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:14:10.223 -03:00 [INF] Route matched with {action = "CadastrarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarCategoria(E_Commerce_API_.Data.DTOs.CategoriaDto.CreateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:14:10.230 -03:00 [INF] Iniciando verificação do nome: 'Açougue  D'.
2023-08-29 13:14:10.230 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 13:14:10.230 -03:00 [INF] Foi requisitado um cadastro de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 13:14:10.230 -03:00 [INF] Iniciada adição de uma nova categoria: 'Açougue  D'.
2023-08-29 13:14:10.234 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:14:10.236 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 13:14:10.240 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 13:14:10.241 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 13:14:10.242 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API)) in 19.1929ms
2023-08-29 13:14:10.242 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:14:10.242 -03:00 [ERR] Erro: {"TraceId":"36edbc08-2c0a-447c-bb7f-fa2908c7e698","Error":{"Logref":"BadRequest","Message":"O nome 'Açougue  D' já existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 13:14:10.242 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 31 - 400 - application/json 20.3461ms
2023-08-29 13:16:23.531 -03:00 [INF] Inicialização da WEB API...
2023-08-29 13:16:23.634 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 13:16:23.717 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 13:16:23.717 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 13:16:23.719 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 13:16:23.719 -03:00 [INF] Hosting environment: Development
2023-08-29 13:16:23.719 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 13:16:24.196 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 13:16:24.383 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 189.2684ms
2023-08-29 13:16:24.396 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 13:16:24.396 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 13:16:24.399 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.3810ms
2023-08-29 13:16:24.410 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.2141ms
2023-08-29 13:16:24.668 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 13:16:24.771 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.9349ms
2023-08-29 13:16:33.057 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 6
2023-08-29 13:16:33.287 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:16:33.320 -03:00 [INF] Route matched with {action = "CadastrarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarCategoria(E_Commerce_API_.Data.DTOs.CategoriaDto.CreateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:16:33.924 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API)) in 598.3261ms
2023-08-29 13:16:33.925 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:16:33.929 -03:00 [ERR] Erro: {"TraceId":"d6ccd3b2-8315-4dea-bc87-eb454979d381","Error":{"Logref":"BadRequest","Message":"O campo Nome é obrigatório.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 13:16:33.974 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 6 - 400 - application/json 917.4729ms
2023-08-29 13:16:40.696 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/Categoria application/json 31
2023-08-29 13:16:40.700 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:16:40.701 -03:00 [INF] Route matched with {action = "CadastrarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CadastrarCategoria(E_Commerce_API_.Data.DTOs.CategoriaDto.CreateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:16:40.726 -03:00 [INF] Iniciando verificação do nome: 'Açougue  D'.
2023-08-29 13:16:40.726 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 13:16:40.727 -03:00 [INF] Foi requisitado um cadastro de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 13:16:40.727 -03:00 [INF] Iniciada adição de uma nova categoria: 'Açougue  D'.
2023-08-29 13:16:42.007 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:16:42.098 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 13:16:42.167 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 13:16:42.222 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 13:16:42.260 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API)) in 1559.8ms
2023-08-29 13:16:42.261 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.CadastrarCategoria (E-Commerce(API))'
2023-08-29 13:16:42.261 -03:00 [ERR] Erro: {"TraceId":"3fb9a747-10bd-4d29-acab-4b5bb48d0bb9","Error":{"Logref":"BadRequest","Message":"O nome 'Açougue  D' já existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 13:16:42.267 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/Categoria application/json 31 - 400 - application/json 1570.1874ms
2023-08-29 13:22:08.290 -03:00 [INF] Inicialização da WEB API...
2023-08-29 13:22:08.393 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 13:22:08.478 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 13:22:08.478 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 13:22:08.481 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 13:22:08.481 -03:00 [INF] Hosting environment: Development
2023-08-29 13:22:08.481 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 13:22:08.988 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 13:22:09.175 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 13:22:09.175 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 13:22:09.176 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 189.6696ms
2023-08-29 13:22:09.178 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.1523ms
2023-08-29 13:22:09.198 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.1301ms
2023-08-29 13:22:09.405 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 13:22:09.501 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.4358ms
2023-08-29 13:22:22.453 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 50
2023-08-29 13:22:22.621 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 13:22:22.624 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 13:22:22.639 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 13:22:22.646 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 13:22:22.646 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 50 - 401 0 - 193.3231ms
2023-08-29 13:22:36.826 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 50
2023-08-29 13:22:36.876 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:22:36.910 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:22:37.517 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-08-29 13:22:37.596 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 682.0978ms
2023-08-29 13:22:37.597 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:22:37.598 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 50 - 400 350 application/problem+json;+charset=utf-8 771.9499ms
2023-08-29 13:23:14.535 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 44
2023-08-29 13:23:14.537 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:23:14.538 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:23:14.556 -03:00 [INF] Iniciando verificação do nome: 'Teste'.
2023-08-29 13:23:14.558 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 13:23:14.559 -03:00 [INF] Foi requisitado uma edição de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 13:23:14.559 -03:00 [INF] Iniciada edição da categoria "869bd076-ebf8-49b3-8bac-d2ea2d7207d0".
2023-08-29 13:23:15.693 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:23:15.773 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:23:15.784 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 13:23:15.841 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 13:23:15.874 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 13:23:16.131 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`CategoriaId` = @__get_Item_0
2023-08-29 13:23:16.134 -03:00 [INF] Status da subcategoria "537325e3-2ecb-448c-978c-a24dfa4f2a9c" alterado.
2023-08-29 13:23:16.134 -03:00 [INF] Status da subcategoria "6571011d-60f1-4eea-9d9f-901047b921a3" alterado.
2023-08-29 13:23:16.134 -03:00 [INF] Status da subcategoria "aa6e7145-2b0b-4ecf-90ab-e58152c405a5" alterado.
2023-08-29 13:23:16.134 -03:00 [INF] Status da subcategoria "d1690b53-0883-4894-969e-cfca4ed8c556" alterado.
2023-08-29 13:23:16.271 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p13='?' (DbType = Guid), @p11='?' (DbType = DateTime), @p12='?' (DbType = Boolean), @p16='?' (DbType = Guid), @p14='?' (DbType = DateTime), @p15='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categorias` SET `DataEHoraCriacao` = @p0, `DataEHoraModificacao` = @p1, `Nome` = @p2, `Status` = @p3
WHERE `Id` = @p4;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p5, `Status` = @p6
WHERE `Id` = @p7;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p8, `Status` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p11, `Status` = @p12
WHERE `Id` = @p13;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p14, `Status` = @p15
WHERE `Id` = @p16;
SELECT ROW_COUNT();
2023-08-29 13:23:16.285 -03:00 [INF] Categoria atualizada no banco de dados.
2023-08-29 13:23:16.285 -03:00 [INF] Categoria editada com sucesso.
2023-08-29 13:23:16.290 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-29 13:23:16.290 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 1752.6852ms
2023-08-29 13:23:16.290 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:23:16.296 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 44 - 204 - - 1761.2845ms
2023-08-29 13:23:54.648 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48
2023-08-29 13:23:54.649 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:23:54.649 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:23:54.658 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-08-29 13:23:54.658 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 9.2381ms
2023-08-29 13:23:54.658 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:23:54.658 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48 - 400 458 application/problem+json;+charset=utf-8 10.0617ms
2023-08-29 13:24:05.901 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48
2023-08-29 13:24:05.901 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:24:05.901 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:24:05.903 -03:00 [INF] Iniciando verificação do nome: 'Teste'.
2023-08-29 13:24:05.903 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 13:24:05.903 -03:00 [INF] Foi requisitado uma edição de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 13:24:05.903 -03:00 [INF] Iniciada edição da categoria "869bd076-ebf8-49b3-8bac-d2ea2d7207d0".
2023-08-29 13:24:05.907 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:24:05.912 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`CategoriaId` = @__get_Item_0
2023-08-29 13:24:05.919 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`SubcategoriaId` = @__get_Item_0
2023-08-29 13:24:05.920 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`SubcategoriaId` = @__get_Item_0
2023-08-29 13:24:05.921 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`SubcategoriaId` = @__get_Item_0
2023-08-29 13:24:05.924 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`SubcategoriaId` = @__get_Item_0
2023-08-29 13:24:05.925 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:24:05.926 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 13:24:05.929 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 13:24:05.929 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 13:24:05.930 -03:00 [INF] Status da subcategoria "537325e3-2ecb-448c-978c-a24dfa4f2a9c" alterado.
2023-08-29 13:24:05.930 -03:00 [INF] Status da subcategoria "6571011d-60f1-4eea-9d9f-901047b921a3" alterado.
2023-08-29 13:24:05.930 -03:00 [INF] Status da subcategoria "aa6e7145-2b0b-4ecf-90ab-e58152c405a5" alterado.
2023-08-29 13:24:05.930 -03:00 [INF] Status da subcategoria "d1690b53-0883-4894-969e-cfca4ed8c556" alterado.
2023-08-29 13:24:05.932 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p13='?' (DbType = Guid), @p11='?' (DbType = DateTime), @p12='?' (DbType = Boolean), @p16='?' (DbType = Guid), @p14='?' (DbType = DateTime), @p15='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categorias` SET `DataEHoraCriacao` = @p0, `DataEHoraModificacao` = @p1, `Nome` = @p2, `Status` = @p3
WHERE `Id` = @p4;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p5, `Status` = @p6
WHERE `Id` = @p7;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p8, `Status` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p11, `Status` = @p12
WHERE `Id` = @p13;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p14, `Status` = @p15
WHERE `Id` = @p16;
SELECT ROW_COUNT();
2023-08-29 13:24:05.936 -03:00 [INF] Categoria atualizada no banco de dados.
2023-08-29 13:24:05.936 -03:00 [INF] Categoria editada com sucesso.
2023-08-29 13:24:05.936 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-29 13:24:05.936 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 34.7228ms
2023-08-29 13:24:05.936 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:24:05.936 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48 - 204 - - 35.5112ms
2023-08-29 13:24:23.915 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 26
2023-08-29 13:24:23.915 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:24:23.915 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:24:23.916 -03:00 [INF] Iniciando verificação do nome: 'Teste'.
2023-08-29 13:24:23.916 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 13:24:23.917 -03:00 [INF] Foi requisitado uma edição de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 13:24:23.917 -03:00 [INF] Iniciada edição da categoria "869bd076-ebf8-49b3-8bac-d2ea2d7207d0".
2023-08-29 13:24:23.987 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:24:23.989 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 73.194ms
2023-08-29 13:24:23.989 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:24:23.997 -03:00 [ERR] Erro: {"TraceId":"bc13a5b6-bf35-44fd-9998-1147239dc795","Error":{"Logref":"BadRequest","Message":"A edição não foi realizada, pois os valores não foram alterados.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 13:24:24.008 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 26 - 400 - application/json 92.8322ms
2023-08-29 13:24:39.387 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 13:24:39.392 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 5.6409ms
2023-08-29 13:24:39.397 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 13:24:39.398 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 0.3663ms
2023-08-29 13:24:39.398 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 13:24:39.402 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.2903ms
2023-08-29 13:24:39.731 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 13:24:39.742 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 10.6198ms
2023-08-29 13:24:45.466 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 26
2023-08-29 13:24:45.467 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:24:45.467 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:24:45.468 -03:00 [INF] Iniciando verificação do nome: 'Teste'.
2023-08-29 13:24:45.468 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 13:24:45.468 -03:00 [INF] Foi requisitado uma edição de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 13:24:45.468 -03:00 [INF] Iniciada edição da categoria "869bd076-ebf8-49b3-8bac-d2ea2d7207d0".
2023-08-29 13:24:45.469 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 13:24:45.469 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 2.3572ms
2023-08-29 13:24:45.469 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:24:45.469 -03:00 [ERR] Erro: {"TraceId":"99399a2b-5eb2-4c4d-aa82-bbb6808e1422","Error":{"Logref":"BadRequest","Message":"A edição não foi realizada, pois os valores não foram alterados.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 13:24:45.469 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 26 - 400 - application/json 3.1739ms
2023-08-29 13:25:02.756 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 8
2023-08-29 13:25:02.758 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:25:02.758 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 13:25:02.762 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 4.3126ms
2023-08-29 13:25:02.762 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 13:25:02.762 -03:00 [ERR] Erro: {"TraceId":"6a4a3b83-d527-46d9-ba7f-7839fca98d1c","Error":{"Logref":"BadRequest","Message":"O campo Nome é obrigatório.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 13:25:02.763 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 8 - 400 - application/json 6.9737ms
2023-08-29 14:53:46.097 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48
2023-08-29 14:53:46.097 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 14:53:46.097 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 14:53:46.097 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 14:53:46.098 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 14:53:46.098 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48 - 401 0 - 1.0894ms
2023-08-29 14:54:03.028 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48
2023-08-29 14:54:03.029 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 14:54:03.029 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 14:54:03.048 -03:00 [INF] Iniciando verificação do nome: 'Teste'.
2023-08-29 14:54:03.048 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 14:54:03.049 -03:00 [INF] Foi requisitado uma edição de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 14:54:03.049 -03:00 [INF] Iniciada edição da categoria "869bd076-ebf8-49b3-8bac-d2ea2d7207d0".
2023-08-29 14:54:03.057 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 14:54:03.058 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 28.7824ms
2023-08-29 14:54:03.058 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 14:54:03.058 -03:00 [ERR] Erro: {"TraceId":"492140ec-1b22-4654-9d95-2fd112e3df58","Error":{"Logref":"BadRequest","Message":"A edição não foi realizada, pois os valores não foram alterados.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 14:54:03.058 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 48 - 400 - application/json 29.9572ms
2023-08-29 14:54:10.942 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 47
2023-08-29 14:54:10.942 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 14:54:10.942 -03:00 [INF] Route matched with {action = "EditarCategoria", controller = "Categoria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCategoria(System.Guid, E_Commerce_API_.Data.DTOs.CategoriaDto.UpdateCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 14:54:10.943 -03:00 [INF] Iniciando verificação do nome: 'Teste'.
2023-08-29 14:54:10.943 -03:00 [INF] O nome está dentro dos critérios.
2023-08-29 14:54:10.943 -03:00 [INF] Foi requisitado uma edição de categoria pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 14:54:10.943 -03:00 [INF] Iniciada edição da categoria "869bd076-ebf8-49b3-8bac-d2ea2d7207d0".
2023-08-29 14:54:10.944 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 14:54:10.945 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 14:54:10.945 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 14:54:10.946 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 14:54:10.947 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 14:54:10.949 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`CategoriaId` = @__get_Item_0
2023-08-29 14:54:10.949 -03:00 [INF] Status da subcategoria "537325e3-2ecb-448c-978c-a24dfa4f2a9c" alterado.
2023-08-29 14:54:10.949 -03:00 [INF] Status da subcategoria "6571011d-60f1-4eea-9d9f-901047b921a3" alterado.
2023-08-29 14:54:10.949 -03:00 [INF] Status da subcategoria "aa6e7145-2b0b-4ecf-90ab-e58152c405a5" alterado.
2023-08-29 14:54:10.949 -03:00 [INF] Status da subcategoria "d1690b53-0883-4894-969e-cfca4ed8c556" alterado.
2023-08-29 14:54:10.952 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p13='?' (DbType = Guid), @p11='?' (DbType = DateTime), @p12='?' (DbType = Boolean), @p16='?' (DbType = Guid), @p14='?' (DbType = DateTime), @p15='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categorias` SET `DataEHoraCriacao` = @p0, `DataEHoraModificacao` = @p1, `Nome` = @p2, `Status` = @p3
WHERE `Id` = @p4;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p5, `Status` = @p6
WHERE `Id` = @p7;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p8, `Status` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p11, `Status` = @p12
WHERE `Id` = @p13;
SELECT ROW_COUNT();

UPDATE `Subcategorias` SET `DataEHoraModificacao` = @p14, `Status` = @p15
WHERE `Id` = @p16;
SELECT ROW_COUNT();
2023-08-29 14:54:10.958 -03:00 [INF] Categoria atualizada no banco de dados.
2023-08-29 14:54:10.958 -03:00 [INF] Categoria editada com sucesso.
2023-08-29 14:54:10.958 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-29 14:54:10.958 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API)) in 16.0622ms
2023-08-29 14:54:10.958 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.EditarCategoria (E-Commerce(API))'
2023-08-29 14:54:10.958 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Categoria/869bd076-ebf8-49b3-8bac-d2ea2d7207d0 application/json 47 - 204 - - 16.6268ms
2023-08-29 14:54:25.198 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/Categoria/?nome=teste - -
2023-08-29 14:54:25.198 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CategoriaController.PesquisarCategorias (E-Commerce(API))'
2023-08-29 14:54:25.204 -03:00 [INF] Route matched with {action = "PesquisarCategorias", controller = "Categoria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PesquisarCategorias(E_Commerce_API_.Data.DTOs.CategoriaDto.FiltroCategoriaDto) on controller E_Commerce_API_.Controllers.CategoriaController (E-Commerce(API)).
2023-08-29 14:54:25.212 -03:00 [INF] Iniciando verificação do termo pesquisado: 'Teste'.
2023-08-29 14:54:25.212 -03:00 [INF] Termo pesquisado está dentro dos critérios.
2023-08-29 14:54:25.213 -03:00 [INF] Foi requisitado uma pesquisa de categorias.
2023-08-29 14:54:25.213 -03:00 [INF] Iniciada a pesquisa de categoria com os filtros informados: {"Nome":"teste","Ordem":"Crescente","Status":"Todos","Registros":10,"Pagina":1,"$type":"FiltroCategoriaDto"}
2023-08-29 14:54:25.261 -03:00 [INF] Criação da querie para pesquisa de categorias.
2023-08-29 14:54:25.959 -03:00 [INF] Foram encontrados 2 categorias.
2023-08-29 14:54:25.969 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce_API_.Data.DTOs.CategoriaDto.ReadCategoriaDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-29 14:54:25.974 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CategoriaController.PesquisarCategorias (E-Commerce(API)) in 769.6456ms
2023-08-29 14:54:25.974 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CategoriaController.PesquisarCategorias (E-Commerce(API))'
2023-08-29 14:54:25.975 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/Categoria/?nome=teste - - - 200 300 application/json;+charset=utf-8 777.4671ms
2023-08-29 15:13:52.841 -03:00 [INF] Inicialização da WEB API...
2023-08-29 15:13:52.947 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 15:13:53.033 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 15:13:53.033 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 15:13:53.036 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 15:13:53.036 -03:00 [INF] Hosting environment: Development
2023-08-29 15:13:53.036 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 15:13:53.517 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 15:13:53.714 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 198.2982ms
2023-08-29 15:13:53.719 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 15:13:53.719 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 15:13:53.735 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 16.7673ms
2023-08-29 15:13:53.745 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.5890ms
2023-08-29 15:13:54.037 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 15:13:54.177 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.1763ms
2023-08-29 15:13:58.281 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:13:58.381 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 15:13:58.386 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 15:13:58.397 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 15:13:58.403 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 15:13:58.404 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 401 0 - 122.3972ms
2023-08-29 15:14:10.947 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:14:10.980 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:14:11.017 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:14:11.565 -03:00 [INF] Foi requisitado um cadastro de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 15:14:11.565 -03:00 [INF] Iniciada adição de um novo centro de distribuição.
2023-08-29 15:14:12.732 -03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 15:14:12.871 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 15:14:12.934 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 15:14:12.986 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:14:13.028 -03:00 [INF] Iniciada pesquisa do CEP '00000000'.
2023-08-29 15:14:14.462 -03:00 [INF] Pesquisa do CEP finalizada. Resposta: {
  "erro": true
}
2023-08-29 15:14:14.487 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 3465.1769ms
2023-08-29 15:14:14.487 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:14:14.492 -03:00 [ERR] Erro: {"TraceId":"f9f5414f-a149-436a-94a5-20306ab34f99","Error":{"Logref":"BadRequest","Message":"O CEP '00000000' não existe.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 15:14:14.523 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 400 - application/json 3576.3335ms
2023-08-29 15:14:25.445 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:14:25.447 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:14:25.448 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:14:25.456 -03:00 [INF] Foi requisitado um cadastro de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 15:14:25.456 -03:00 [INF] Iniciada adição de um novo centro de distribuição.
2023-08-29 15:14:25.461 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 15:14:25.463 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 15:14:25.466 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 15:14:25.469 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:14:25.469 -03:00 [INF] Iniciada pesquisa do CEP '07179510'.
2023-08-29 15:14:26.471 -03:00 [INF] Pesquisa do CEP finalizada. Resposta: {
  "cep": "07179-510",
  "logradouro": "Rua Camacan",
  "complemento": "",
  "bairro": "Nova Ponte Alta",
  "localidade": "Guarulhos",
  "uf": "SP",
  "ibge": "3518800",
  "gia": "3360",
  "ddd": "11",
  "siafi": "6477"
}
2023-08-29 15:14:26.502 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:14:26.723 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (Size = 8), @p3='?' (Size = 128), @p4='?' (Size = 128), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 128), @p8='?' (Size = 128), @p9='?' (DbType = UInt32), @p10='?' (DbType = Boolean), @p11='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `CentrosDeDistribuicao` (`Id`, `Bairro`, `CEP`, `Cidade`, `Complemento`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Logradouro`, `Nome`, `Numero`, `Status`, `UF`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2023-08-29 15:14:26.735 -03:00 [INF] Centro de distribuição com Id '"59b24e94-2f1f-4b32-a73e-e53ea423c7d6"' incluído no banco de dados.
2023-08-29 15:14:26.735 -03:00 [INF] Centro de distribuição cadastrado com sucesso.
2023-08-29 15:14:26.766 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6","Rel":"self","Method":"PUT","Arguments":["nome","cep","numero","complemento","status"],"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-08-29 15:14:26.773 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.ReadCentroDeDistribuicaoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-29 15:14:26.807 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 1358.1784ms
2023-08-29 15:14:26.807 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:14:26.807 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 201 790 application/json;+charset=utf-8 1361.6446ms
2023-08-29 15:15:03.030 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6 - -
2023-08-29 15:15:03.031 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.PesquisarCDPorId (E-Commerce(API))'
2023-08-29 15:15:03.033 -03:00 [INF] Route matched with {action = "PesquisarCDPorId", controller = "CentroDeDistribuicao"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PesquisarCDPorId(System.Guid) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:15:03.038 -03:00 [INF] Foi requisitado uma pesquisa de centro de distribuição por Id.
2023-08-29 15:15:03.038 -03:00 [INF] Iniciada pesquisa de centro de distribuição "59b24e94-2f1f-4b32-a73e-e53ea423c7d6".
2023-08-29 15:15:03.092 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:15:03.098 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6","Rel":"self","Method":"PUT","Arguments":["nome","cep","numero","complemento","status"],"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-08-29 15:15:03.098 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.ReadCentroDeDistribuicaoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-29 15:15:03.099 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.PesquisarCDPorId (E-Commerce(API)) in 65.8204ms
2023-08-29 15:15:03.099 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.PesquisarCDPorId (E-Commerce(API))'
2023-08-29 15:15:03.099 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6 - - - 200 790 application/json;+charset=utf-8 68.5881ms
2023-08-29 15:15:07.943 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6 - -
2023-08-29 15:15:07.943 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 15:15:07.943 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 15:15:07.944 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6 - - - 401 0 - 0.4883ms
2023-08-29 15:15:15.711 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6 - -
2023-08-29 15:15:15.712 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API))'
2023-08-29 15:15:15.713 -03:00 [INF] Route matched with {action = "RemoverCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverCD(System.Guid) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:15:15.714 -03:00 [INF] Foi requisitado uma remoção de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 15:15:15.714 -03:00 [INF] Iniciada remoção do centro de distribuição "59b24e94-2f1f-4b32-a73e-e53ea423c7d6".
2023-08-29 15:15:15.715 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:15:15.739 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `CentrosDeDistribuicao`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2023-08-29 15:15:15.751 -03:00 [INF] Centro de distribuição removido do banco de dados.
2023-08-29 15:15:15.751 -03:00 [INF] Centro de distribuição excluído com sucesso.
2023-08-29 15:15:15.757 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-29 15:15:15.757 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API)) in 44.3418ms
2023-08-29 15:15:15.757 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API))'
2023-08-29 15:15:15.757 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/59b24e94-2f1f-4b32-a73e-e53ea423c7d6 - - - 204 - - 45.7204ms
2023-08-29 15:15:31.344 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:15:31.344 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:15:31.344 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:15:31.345 -03:00 [INF] Foi requisitado um cadastro de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 15:15:31.345 -03:00 [INF] Iniciada adição de um novo centro de distribuição.
2023-08-29 15:15:31.347 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 15:15:31.347 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 15:15:31.349 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 15:15:31.350 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:15:31.350 -03:00 [INF] Iniciada pesquisa do CEP '07179510'.
2023-08-29 15:15:32.478 -03:00 [INF] Pesquisa do CEP finalizada. Resposta: {
  "cep": "07179-510",
  "logradouro": "Rua Camacan",
  "complemento": "",
  "bairro": "Nova Ponte Alta",
  "localidade": "Guarulhos",
  "uf": "SP",
  "ibge": "3518800",
  "gia": "3360",
  "ddd": "11",
  "siafi": "6477"
}
2023-08-29 15:15:32.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:15:32.485 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (Size = 8), @p3='?' (Size = 128), @p4='?' (Size = 128), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 128), @p8='?' (Size = 128), @p9='?' (DbType = UInt32), @p10='?' (DbType = Boolean), @p11='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `CentrosDeDistribuicao` (`Id`, `Bairro`, `CEP`, `Cidade`, `Complemento`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Logradouro`, `Nome`, `Numero`, `Status`, `UF`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2023-08-29 15:15:32.485 -03:00 [INF] Centro de distribuição com Id '"8fa084c0-2ecb-4019-8bf1-967e74b74519"' incluído no banco de dados.
2023-08-29 15:15:32.485 -03:00 [INF] Centro de distribuição cadastrado com sucesso.
2023-08-29 15:15:32.485 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/CentroDeDistribuicao/8fa084c0-2ecb-4019-8bf1-967e74b74519","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/8fa084c0-2ecb-4019-8bf1-967e74b74519","Rel":"self","Method":"PUT","Arguments":["nome","cep","numero","complemento","status"],"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/8fa084c0-2ecb-4019-8bf1-967e74b74519","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-08-29 15:15:32.485 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.ReadCentroDeDistribuicaoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-29 15:15:32.486 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 1141.5115ms
2023-08-29 15:15:32.486 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:15:32.486 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 201 790 application/json;+charset=utf-8 1142.4492ms
2023-08-29 15:15:46.046 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/8fa084c0-2ecb-4019-8bf1-967e74b74519 - -
2023-08-29 15:15:46.047 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API))'
2023-08-29 15:15:46.047 -03:00 [INF] Route matched with {action = "RemoverCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverCD(System.Guid) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:15:46.048 -03:00 [INF] Foi requisitado uma remoção de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 15:15:46.048 -03:00 [INF] Iniciada remoção do centro de distribuição "8fa084c0-2ecb-4019-8bf1-967e74b74519".
2023-08-29 15:15:46.050 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:15:46.056 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `CentrosDeDistribuicao`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2023-08-29 15:15:46.057 -03:00 [INF] Centro de distribuição removido do banco de dados.
2023-08-29 15:15:46.057 -03:00 [INF] Centro de distribuição excluído com sucesso.
2023-08-29 15:15:46.057 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-29 15:15:46.057 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API)) in 10.0009ms
2023-08-29 15:15:46.057 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API))'
2023-08-29 15:15:46.057 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/8fa084c0-2ecb-4019-8bf1-967e74b74519 - - - 204 - - 10.9475ms
2023-08-29 15:20:05.489 -03:00 [INF] Inicialização da WEB API...
2023-08-29 15:20:05.588 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 15:20:05.667 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 15:20:05.667 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 15:20:05.669 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 15:20:05.669 -03:00 [INF] Hosting environment: Development
2023-08-29 15:20:05.669 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 15:20:06.149 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 15:20:06.330 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 182.6813ms
2023-08-29 15:20:06.334 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 15:20:06.334 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 15:20:06.336 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.1221ms
2023-08-29 15:20:06.346 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.7139ms
2023-08-29 15:20:06.643 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 15:20:06.748 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.2968ms
2023-08-29 15:20:13.855 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:20:14.022 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 15:20:14.028 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 15:20:14.041 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 15:20:14.047 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 15:20:14.047 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 401 0 - 192.5190ms
2023-08-29 15:20:28.595 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:20:28.624 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:20:28.650 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:20:29.232 -03:00 [INF] Foi requisitado um cadastro de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 15:20:29.233 -03:00 [INF] Iniciada adição de um novo centro de distribuição.
2023-08-29 15:20:30.442 -03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-08-29 15:20:30.548 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-08-29 15:20:30.596 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-08-29 15:20:30.631 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:20:30.683 -03:00 [INF] Iniciada pesquisa do CEP '07179510'.
2023-08-29 15:20:31.465 -03:00 [INF] Pesquisa do CEP finalizada. Resposta: {
  "cep": "07179-510",
  "logradouro": "Rua Camacan",
  "complemento": "",
  "bairro": "Nova Ponte Alta",
  "localidade": "Guarulhos",
  "uf": "SP",
  "ibge": "3518800",
  "gia": "3360",
  "ddd": "11",
  "siafi": "6477"
}
2023-08-29 15:20:31.502 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:20:31.731 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (Size = 8), @p3='?' (Size = 128), @p4='?' (Size = 128), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 128), @p8='?' (Size = 128), @p9='?' (DbType = UInt32), @p10='?' (DbType = Boolean), @p11='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `CentrosDeDistribuicao` (`Id`, `Bairro`, `CEP`, `Cidade`, `Complemento`, `DataEHoraCriacao`, `DataEHoraModificacao`, `Logradouro`, `Nome`, `Numero`, `Status`, `UF`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2023-08-29 15:20:31.741 -03:00 [INF] Centro de distribuição com Id '"39e1afd3-b8b5-4490-95c9-0f7d205d6df6"' incluído no banco de dados.
2023-08-29 15:20:31.741 -03:00 [INF] Centro de distribuição cadastrado com sucesso.
2023-08-29 15:20:31.785 -03:00 [INF] Criado os links de acesso: [{"Href":"https://localhost:7296/CentroDeDistribuicao/39e1afd3-b8b5-4490-95c9-0f7d205d6df6","Rel":"self","Method":"GET","Arguments":null,"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/39e1afd3-b8b5-4490-95c9-0f7d205d6df6","Rel":"self","Method":"PUT","Arguments":["nome","cep","numero","complemento","status"],"$type":"LinkDto"},{"Href":"https://localhost:7296/CentroDeDistribuicao/39e1afd3-b8b5-4490-95c9-0f7d205d6df6","Rel":"self","Method":"DELETE","Arguments":null,"$type":"LinkDto"}].
2023-08-29 15:20:31.792 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce_API_.Data.DTOs.Error.ResponseDto`1[[E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.ReadCentroDeDistribuicaoDto, E-Commerce(API), Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-29 15:20:31.864 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 3207.101ms
2023-08-29 15:20:31.864 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:20:31.874 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 201 790 application/json;+charset=utf-8 3278.6318ms
2023-08-29 15:20:51.584 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/39e1afd3-b8b5-4490-95c9-0f7d205d6df6 - -
2023-08-29 15:20:51.586 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 15:20:51.586 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 15:20:51.586 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/39e1afd3-b8b5-4490-95c9-0f7d205d6df6 - - - 401 0 - 2.5234ms
2023-08-29 15:20:57.040 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/39e1afd3-b8b5-4490-95c9-0f7d205d6df6 - -
2023-08-29 15:20:57.040 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API))'
2023-08-29 15:20:57.041 -03:00 [INF] Route matched with {action = "RemoverCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RemoverCD(System.Guid) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:20:57.044 -03:00 [INF] Foi requisitado uma remoção de centro de distribuição pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-08-29 15:20:57.044 -03:00 [INF] Iniciada remoção do centro de distribuição "39e1afd3-b8b5-4490-95c9-0f7d205d6df6".
2023-08-29 15:20:57.046 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-08-29 15:20:57.063 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `CentrosDeDistribuicao`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2023-08-29 15:20:57.071 -03:00 [INF] Centro de distribuição removido do banco de dados.
2023-08-29 15:20:57.071 -03:00 [INF] Centro de distribuição excluído com sucesso.
2023-08-29 15:20:57.076 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-29 15:20:57.076 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API)) in 34.7606ms
2023-08-29 15:20:57.076 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.RemoverCD (E-Commerce(API))'
2023-08-29 15:20:57.077 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7296/CentroDeDistribuicao/39e1afd3-b8b5-4490-95c9-0f7d205d6df6 - - - 204 - - 37.5544ms
2023-08-29 15:21:43.812 -03:00 [INF] Inicialização da WEB API...
2023-08-29 15:21:43.928 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 15:21:44.007 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 15:21:44.007 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 15:21:44.010 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 15:21:44.010 -03:00 [INF] Hosting environment: Development
2023-08-29 15:21:44.010 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 15:21:44.514 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 15:21:44.718 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 205.6840ms
2023-08-29 15:21:44.721 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 15:21:44.721 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 15:21:44.722 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 1.5666ms
2023-08-29 15:21:44.735 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.4819ms
2023-08-29 15:21:44.805 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 15:21:44.946 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.3911ms
2023-08-29 15:22:07.585 -03:00 [INF] Inicialização da WEB API...
2023-08-29 15:22:07.965 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 15:22:08.156 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 15:22:08.156 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 15:22:08.159 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 15:22:08.160 -03:00 [INF] Hosting environment: Development
2023-08-29 15:22:08.160 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 15:22:08.843 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 15:22:09.261 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 15:22:09.273 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 15:22:09.276 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 440.0437ms
2023-08-29 15:22:09.276 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 14.7439ms
2023-08-29 15:22:09.298 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.1006ms
2023-08-29 15:22:09.359 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 15:22:09.555 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 196.0944ms
2023-08-29 15:25:12.702 -03:00 [INF] Inicialização da WEB API...
2023-08-29 15:25:12.930 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 15:25:13.094 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 15:25:13.094 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 15:25:13.097 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 15:25:13.097 -03:00 [INF] Hosting environment: Development
2023-08-29 15:25:13.097 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 15:25:13.531 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 15:25:14.032 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 15:25:14.032 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 15:25:14.045 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 9.7181ms
2023-08-29 15:25:14.047 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 521.2686ms
2023-08-29 15:25:14.062 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.2817ms
2023-08-29 15:25:14.131 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 15:25:14.315 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.6397ms
2023-08-29 15:37:24.738 -03:00 [INF] Inicialização da WEB API...
2023-08-29 15:37:24.842 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 15:37:24.923 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 15:37:24.923 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 15:37:24.925 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 15:37:24.925 -03:00 [INF] Hosting environment: Development
2023-08-29 15:37:24.925 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 15:37:25.464 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 15:37:25.754 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 292.2650ms
2023-08-29 15:37:25.765 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 15:37:25.765 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 15:37:25.769 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 3.3938ms
2023-08-29 15:37:25.790 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.9892ms
2023-08-29 15:37:25.876 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 15:37:26.040 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.9782ms
2023-08-29 15:37:32.834 -03:00 [INF] Inicialização da WEB API...
2023-08-29 15:37:33.220 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 15:37:33.393 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 15:37:33.393 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 15:37:33.397 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 15:37:33.398 -03:00 [INF] Hosting environment: Development
2023-08-29 15:37:33.398 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 15:37:34.202 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 15:37:34.595 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 15:37:34.611 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 15:37:34.624 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 26.4493ms
2023-08-29 15:37:34.625 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 426.9556ms
2023-08-29 15:37:34.639 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.8618ms
2023-08-29 15:37:34.708 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 15:37:34.940 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 232.0914ms
2023-08-29 15:37:53.043 -03:00 [INF] Inicialização da WEB API...
2023-08-29 15:37:53.147 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 15:37:53.225 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 15:37:53.225 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 15:37:53.228 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 15:37:53.228 -03:00 [INF] Hosting environment: Development
2023-08-29 15:37:53.228 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 15:37:53.414 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 15:37:53.693 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 283.1296ms
2023-08-29 15:37:53.693 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 15:37:53.698 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.2370ms
2023-08-29 15:37:53.698 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 15:37:53.715 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.2188ms
2023-08-29 15:37:53.793 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 15:37:53.954 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.4094ms
2023-08-29 15:38:02.165 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:38:02.344 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 15:38:02.352 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 15:38:02.372 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 15:38:02.378 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 15:38:02.380 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 401 0 - 214.6988ms
2023-08-29 15:38:12.205 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:38:12.208 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 15:38:12.209 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 15:38:12.210 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 15:38:12.210 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 15:38:12.214 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 401 0 - 5.6781ms
2023-08-29 15:38:18.121 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 15:38:18.175 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:38:18.222 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 15:38:18.832 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-08-29 15:38:18.920 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 692.1273ms
2023-08-29 15:38:18.920 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 15:38:18.922 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 400 245 application/problem+json;+charset=utf-8 800.2424ms
2023-08-29 16:49:58.316 -03:00 [INF] Inicialização da WEB API...
2023-08-29 16:49:58.426 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 16:49:58.536 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 16:49:58.536 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 16:49:58.539 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 16:49:58.540 -03:00 [INF] Hosting environment: Development
2023-08-29 16:49:58.540 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 16:49:58.706 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 16:49:58.960 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 255.9293ms
2023-08-29 16:49:58.986 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 16:49:58.986 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 16:49:58.991 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.4977ms
2023-08-29 16:49:59.005 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.1747ms
2023-08-29 16:49:59.091 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 16:49:59.261 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.6462ms
2023-08-29 16:50:30.710 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 16:50:30.874 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-29 16:50:30.878 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-29 16:50:30.897 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-08-29 16:50:30.904 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-29 16:50:30.905 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 401 0 - 194.6474ms
2023-08-29 16:50:47.144 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 16:50:47.183 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 16:50:47.229 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 16:50:47.868 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 631.3405ms
2023-08-29 16:50:47.869 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 16:50:47.874 -03:00 [ERR] Erro: {"TraceId":"acb8fb0c-6632-438f-9748-b7b4be4c89f6","Error":{"Logref":"BadRequest","Message":"O campo deve ser alfanumérico.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 16:50:47.922 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 400 - application/json 778.7610ms
2023-08-29 16:51:11.306 -03:00 [INF] Inicialização da WEB API...
2023-08-29 16:51:11.433 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-29 16:51:11.532 -03:00 [INF] Now listening on: https://localhost:7296
2023-08-29 16:51:11.532 -03:00 [INF] Now listening on: http://localhost:5090
2023-08-29 16:51:11.535 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-29 16:51:11.535 -03:00 [INF] Hosting environment: Development
2023-08-29 16:51:11.535 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-08-29 16:51:11.705 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-08-29 16:51:11.992 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 291.1924ms
2023-08-29 16:51:11.997 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-08-29 16:51:11.997 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-08-29 16:51:11.999 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.2133ms
2023-08-29 16:51:12.014 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.5960ms
2023-08-29 16:51:12.161 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-08-29 16:51:12.279 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.3912ms
2023-08-29 16:51:16.205 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123
2023-08-29 16:51:16.342 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 16:51:16.366 -03:00 [INF] Route matched with {action = "CadastrarCD", controller = "CentroDeDistribuicao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CadastrarCD(E_Commerce_API_.Data.DTOs.CentroDeDistribuicaoDto.CreateCentroDeDistribuicaoDto) on controller E_Commerce_API_.Controllers.CentroDeDistribuicaoController (E-Commerce(API)).
2023-08-29 16:51:16.776 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API)) in 406.3842ms
2023-08-29 16:51:16.776 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CentroDeDistribuicaoController.CadastrarCD (E-Commerce(API))'
2023-08-29 16:51:16.779 -03:00 [ERR] Erro: {"TraceId":"a9e61e87-bae3-4218-9c0d-22383a68a3cf","Error":{"Logref":"BadRequest","Message":"O campo Nome deve ser alfanumérico.","$type":"ErrorDetailsDto"},"Data":"29/08/2023","$type":"ErrorResponseDto"}
2023-08-29 16:51:16.806 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CentroDeDistribuicao/ application/json 123 - 400 - application/json 601.2527ms
