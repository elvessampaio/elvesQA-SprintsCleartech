2023-09-26 16:54:34.552 -03:00 [INF] Inicialização da WEB API...
2023-09-26 16:54:35.534 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='e-commerce(api)' AND TABLE_NAME='__EFMigrationsHistory';
2023-09-26 16:54:35.552 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='e-commerce(api)' AND TABLE_NAME='__EFMigrationsHistory';
2023-09-26 16:54:35.584 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2023-09-26 16:54:35.601 -03:00 [INF] Applying migration '20230926195150_AdicionandoColunaDeValorUnitarioEmProdutoNoCarrinho'.
2023-09-26 16:54:35.653 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProdutosNoCarrinho` ADD `ValorUnitario` double NOT NULL DEFAULT 0.0;
2023-09-26 16:54:35.656 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20230926195150_AdicionandoColunaDeValorUnitarioEmProdutoNoCarrinho', '7.0.5');
2023-09-26 16:54:51.467 -03:00 [INF] Inicialização da WEB API...
2023-09-26 16:54:51.573 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-26 16:54:51.653 -03:00 [INF] Now listening on: https://localhost:7296
2023-09-26 16:54:51.653 -03:00 [INF] Now listening on: http://localhost:5090
2023-09-26 16:54:51.655 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-26 16:54:51.656 -03:00 [INF] Hosting environment: Development
2023-09-26 16:54:51.656 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-09-26 16:54:52.180 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-09-26 16:54:52.368 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 189.6104ms
2023-09-26 16:54:52.372 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-09-26 16:54:52.372 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-09-26 16:54:52.376 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 3.7808ms
2023-09-26 16:54:52.396 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.5660ms
2023-09-26 16:54:52.532 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-09-26 16:54:52.637 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.4178ms
2023-09-26 16:55:12.705 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras application/json 154
2023-09-26 16:55:12.748 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API))'
2023-09-26 16:55:12.780 -03:00 [INF] Route matched with {action = "CriarCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarCarrinho(E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.CreateCarrinhoDeComprasDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 16:55:13.285 -03:00 [INF] Iniciada pesquisa do produto "be4bc549-f748-40ab-9cbf-bdc506df2aa0".
2023-09-26 16:55:14.556 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 16:55:14.901 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-09-26 16:55:14.949 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-09-26 16:55:14.971 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-09-26 16:55:14.986 -03:00 [INF] Iniciada pesquisa do CEP '08598372'.
2023-09-26 16:55:19.236 -03:00 [INF] Pesquisa do CEP finalizada. Resposta: {
  "cep": "08598-372",
  "logradouro": "Rua Cambuci",
  "complemento": "",
  "bairro": "Jardim Odete",
  "localidade": "Itaquaquecetuba",
  "uf": "SP",
  "ibge": "3523107",
  "gia": "3797",
  "ddd": "11",
  "siafi": "6563"
}
2023-09-26 16:55:19.484 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = UInt32), @p7='?' (Size = 4000), @p8='?' (DbType = Double), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = UInt32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `CarrinhosDeCompras` (`Id`, `Bairro`, `CEP`, `Cidade`, `Complemento`, `Logradouro`, `Numero`, `UF`, `ValorTotal`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO `ProdutosNoCarrinho` (`CarrinhoDeComprasId`, `ProdutoId`, `Quantidade`, `ValorUnitario`)
VALUES (@p9, @p10, @p11, @p12);
2023-09-26 16:55:19.510 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 16:55:19.536 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 16:55:19.548 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 16:55:19.587 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API)) in 6803.8418ms
2023-09-26 16:55:19.588 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.CriarCarrinho (E-Commerce(API))'
2023-09-26 16:55:19.595 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras application/json 154 - 200 340 application/json;+charset=utf-8 6889.6973ms
2023-09-26 16:55:43.860 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - -
2023-09-26 16:55:43.861 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 16:55:43.862 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 16:55:43.896 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 16:55:43.902 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 16:55:43.908 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 16:55:43.912 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 16:55:43.917 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 16:55:43.918 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 16:55:43.918 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 55.9512ms
2023-09-26 16:55:43.918 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 16:55:43.918 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - - - 200 340 application/json;+charset=utf-8 58.8375ms
2023-09-26 16:56:09.802 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f application/json 83
2023-09-26 16:56:09.805 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API))'
2023-09-26 16:56:09.806 -03:00 [INF] Route matched with {action = "AdicionarProdutosAoCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdicionarProdutosAoCarrinho(System.Guid, E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.AddProdutosAoCarrinhoDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 16:56:09.862 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 16:56:09.864 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 16:56:09.864 -03:00 [INF] Iniciada pesquisa do produto "45f99c7f-8840-41c9-9980-3427d3a8492f".
2023-09-26 16:56:09.866 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 16:56:09.868 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-09-26 16:56:09.870 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-09-26 16:56:09.872 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-09-26 16:56:09.880 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = UInt32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();

INSERT INTO `ProdutosNoCarrinho` (`CarrinhoDeComprasId`, `ProdutoId`, `Quantidade`, `ValorUnitario`)
VALUES (@p9, @p10, @p11, @p12);
2023-09-26 16:56:09.918 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 16:56:09.920 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 16:56:09.920 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 16:56:09.920 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API)) in 114.0875ms
2023-09-26 16:56:09.920 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AdicionarProdutosAoCarrinho (E-Commerce(API))'
2023-09-26 16:56:09.921 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f application/json 83 - 200 448 application/json;+charset=utf-8 118.2022ms
2023-09-26 16:56:24.555 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348
2023-09-26 16:56:24.714 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-26 16:56:24.714 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-09-26 16:56:24.725 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-09-26 16:56:24.732 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-26 16:56:24.733 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348 - 401 0 - 177.2290ms
2023-09-26 16:56:53.305 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348
2023-09-26 16:56:53.340 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API))'
2023-09-26 16:56:53.341 -03:00 [INF] Route matched with {action = "EditarProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarProduto(System.Guid, E_Commerce_API_.Data.DTOs.ProdutoDto.UpdateProdutoDto) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-09-26 16:56:53.360 -03:00 [INF] Foi requisitado uma edição de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-09-26 16:56:53.360 -03:00 [INF] Iniciada edição do produto '"45f99c7f-8840-41c9-9980-3427d3a8492f"'.
2023-09-26 16:56:53.363 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 16:56:53.369 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-09-26 16:56:53.373 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-09-26 16:56:53.375 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 16:56:53.380 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-09-26 16:56:53.398 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = Double), @p1='?' (DbType = Guid), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 512), @p6='?' (DbType = Double), @p7='?' (Size = 128), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = Guid), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Produtos` SET `Altura` = @p0, `CentroDeDistribuicaoId` = @p1, `Comprimento` = @p2, `DataEHoraCriacao` = @p3, `DataEHoraModificacao` = @p4, `Descricao` = @p5, `Largura` = @p6, `Nome` = @p7, `Peso` = @p8, `QuantidadeEmEstoque` = @p9, `Status` = @p10, `SubcategoriaId` = @p11, `Valor` = @p12
WHERE `Id` = @p13;
SELECT ROW_COUNT();
2023-09-26 16:56:53.398 -03:00 [INF] Produto atualizado no banco de dados.
2023-09-26 16:56:53.398 -03:00 [INF] Produto editado com sucesso.
2023-09-26 16:56:53.403 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-09-26 16:56:53.403 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API)) in 61.734ms
2023-09-26 16:56:53.403 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API))'
2023-09-26 16:56:53.403 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348 - 204 - - 98.3590ms
2023-09-26 16:56:57.676 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - -
2023-09-26 16:56:57.676 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 16:56:57.676 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 16:56:57.680 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 16:56:57.683 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 16:56:57.685 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 16:56:57.687 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 16:56:57.692 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 16:56:57.693 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 16:56:57.693 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 16:56:57.694 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 17.3629ms
2023-09-26 16:56:57.694 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 16:56:57.694 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - - - 200 501 application/json;+charset=utf-8 17.8882ms
2023-09-26 17:05:03.628 -03:00 [INF] Inicialização da WEB API...
2023-09-26 17:05:03.739 -03:00 [INF] User profile is available. Using 'C:\Users\Cleartech\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-26 17:05:03.818 -03:00 [INF] Now listening on: https://localhost:7296
2023-09-26 17:05:03.818 -03:00 [INF] Now listening on: http://localhost:5090
2023-09-26 17:05:03.821 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-26 17:05:03.821 -03:00 [INF] Hosting environment: Development
2023-09-26 17:05:03.821 -03:00 [INF] Content root path: C:\Users\Cleartech\AzureDevOps\T4-ManoelAlves\E-Commerce(API)\E-Commerce(API)\
2023-09-26 17:05:04.270 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/index.html - -
2023-09-26 17:05:04.484 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/index.html - - - 200 - text/html;charset=utf-8 215.0120ms
2023-09-26 17:05:04.484 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_vs/browserLink - -
2023-09-26 17:05:04.484 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - -
2023-09-26 17:05:04.487 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 2.6539ms
2023-09-26 17:05:04.497 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.5448ms
2023-09-26 17:05:04.631 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - -
2023-09-26 17:05:04.744 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7296/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.3946ms
2023-09-26 17:05:11.467 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - -
2023-09-26 17:05:11.517 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:05:11.545 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 17:05:13.569 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 17:05:13.719 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 17:05:13.768 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:05:13.832 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:05:13.937 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 17:05:13.991 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 17:05:14.000 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p0='?' (DbType = UInt32), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `ProdutosNoCarrinho` SET `Quantidade` = @p0, `ValorUnitario` = @p1
WHERE `CarrinhoDeComprasId` = @p2 AND `ProdutoId` = @p3;
SELECT ROW_COUNT();
2023-09-26 17:05:14.012 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 17:05:14.128 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 2579.4237ms
2023-09-26 17:05:14.128 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:05:14.134 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - - - 200 501 application/json;+charset=utf-8 2666.3973ms
2023-09-26 17:05:16.942 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - -
2023-09-26 17:05:16.944 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:05:16.944 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 17:05:16.951 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 17:05:16.954 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 17:05:16.956 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:05:16.958 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:05:16.962 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 17:05:16.963 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 17:05:16.963 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 17:05:16.964 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 19.4291ms
2023-09-26 17:05:16.964 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:05:16.964 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - - - 200 448 application/json;+charset=utf-8 21.6554ms
2023-09-26 17:05:32.464 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348
2023-09-26 17:05:32.586 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-26 17:05:32.587 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-09-26 17:05:32.597 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-09-26 17:05:32.601 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-26 17:05:32.602 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348 - 401 0 - 137.9582ms
2023-09-26 17:05:48.606 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348
2023-09-26 17:05:48.634 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API))'
2023-09-26 17:05:48.636 -03:00 [INF] Route matched with {action = "EditarProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarProduto(System.Guid, E_Commerce_API_.Data.DTOs.ProdutoDto.UpdateProdutoDto) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-09-26 17:05:48.691 -03:00 [INF] Foi requisitado uma edição de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-09-26 17:05:48.691 -03:00 [INF] Iniciada edição do produto '"45f99c7f-8840-41c9-9980-3427d3a8492f"'.
2023-09-26 17:05:48.752 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 17:05:48.760 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-09-26 17:05:48.778 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-09-26 17:05:48.802 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 17:05:48.815 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-09-26 17:05:48.872 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = Double), @p1='?' (DbType = Guid), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 512), @p6='?' (DbType = Double), @p7='?' (Size = 128), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = Guid), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Produtos` SET `Altura` = @p0, `CentroDeDistribuicaoId` = @p1, `Comprimento` = @p2, `DataEHoraCriacao` = @p3, `DataEHoraModificacao` = @p4, `Descricao` = @p5, `Largura` = @p6, `Nome` = @p7, `Peso` = @p8, `QuantidadeEmEstoque` = @p9, `Status` = @p10, `SubcategoriaId` = @p11, `Valor` = @p12
WHERE `Id` = @p13;
SELECT ROW_COUNT();
2023-09-26 17:05:48.873 -03:00 [INF] Produto atualizado no banco de dados.
2023-09-26 17:05:48.873 -03:00 [INF] Produto editado com sucesso.
2023-09-26 17:05:48.880 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-09-26 17:05:48.881 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API)) in 244.7278ms
2023-09-26 17:05:48.881 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API))'
2023-09-26 17:05:48.881 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348 - 204 - - 275.3849ms
2023-09-26 17:05:53.968 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - -
2023-09-26 17:05:53.968 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:05:53.968 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 17:05:53.977 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 17:05:53.979 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 17:05:53.983 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:05:53.985 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:05:53.991 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 17:05:53.992 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 17:05:53.999 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p0='?' (DbType = UInt32), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `ProdutosNoCarrinho` SET `Quantidade` = @p0, `ValorUnitario` = @p1
WHERE `CarrinhoDeComprasId` = @p2 AND `ProdutoId` = @p3;
SELECT ROW_COUNT();
2023-09-26 17:05:53.999 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 17:05:53.999 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 30.9321ms
2023-09-26 17:05:53.999 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:05:53.999 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - - - 200 505 application/json;+charset=utf-8 31.5671ms
2023-09-26 17:05:58.550 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - -
2023-09-26 17:05:58.550 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:05:58.550 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 17:05:58.553 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 17:05:58.555 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 17:05:58.558 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:05:58.561 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:05:58.563 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 17:05:58.566 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 17:05:58.566 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 17:05:58.567 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 16.5561ms
2023-09-26 17:05:58.567 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:05:58.567 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - - - 200 448 application/json;+charset=utf-8 17.0982ms
2023-09-26 17:12:55.359 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348
2023-09-26 17:12:55.360 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-26 17:12:55.361 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-09-26 17:12:55.362 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|lojista)
2023-09-26 17:12:55.363 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-26 17:12:55.363 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348 - 401 0 - 3.6841ms
2023-09-26 17:13:09.805 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348
2023-09-26 17:13:09.806 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API))'
2023-09-26 17:13:09.806 -03:00 [INF] Route matched with {action = "EditarProduto", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarProduto(System.Guid, E_Commerce_API_.Data.DTOs.ProdutoDto.UpdateProdutoDto) on controller E_Commerce_API_.Controllers.ProdutoController (E-Commerce(API)).
2023-09-26 17:13:09.815 -03:00 [INF] Foi requisitado uma edição de produto pelo usuário: 'db82dc95-bb75-47ba-84a6-8547ddb7c948'.
2023-09-26 17:13:09.815 -03:00 [INF] Iniciada edição do produto '"45f99c7f-8840-41c9-9980-3427d3a8492f"'.
2023-09-26 17:13:09.823 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 17:13:09.824 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
2023-09-26 17:13:09.825 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
2023-09-26 17:13:09.827 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 17:13:09.827 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
2023-09-26 17:13:09.834 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = Double), @p1='?' (DbType = Guid), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 512), @p6='?' (DbType = Double), @p7='?' (Size = 128), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = Guid), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Produtos` SET `Altura` = @p0, `CentroDeDistribuicaoId` = @p1, `Comprimento` = @p2, `DataEHoraCriacao` = @p3, `DataEHoraModificacao` = @p4, `Descricao` = @p5, `Largura` = @p6, `Nome` = @p7, `Peso` = @p8, `QuantidadeEmEstoque` = @p9, `Status` = @p10, `SubcategoriaId` = @p11, `Valor` = @p12
WHERE `Id` = @p13;
SELECT ROW_COUNT();
2023-09-26 17:13:09.834 -03:00 [INF] Produto atualizado no banco de dados.
2023-09-26 17:13:09.834 -03:00 [INF] Produto editado com sucesso.
2023-09-26 17:13:09.834 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-09-26 17:13:09.834 -03:00 [INF] Executed action E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API)) in 28.4359ms
2023-09-26 17:13:09.834 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.ProdutoController.EditarProduto (E-Commerce(API))'
2023-09-26 17:13:09.834 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/Produto/45f99c7f-8840-41c9-9980-3427d3a8492f application/json 348 - 204 - - 29.4380ms
2023-09-26 17:13:26.036 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/CarrinhoDeCompras/d02cec14-bcdd-459a-bb09-cd0dd4d3bdd9 application/json 84
2023-09-26 17:13:26.037 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AlterarQuantidadeDeProdutosNoCarrinho (E-Commerce(API))'
2023-09-26 17:13:26.038 -03:00 [INF] Route matched with {action = "AlterarQuantidadeDeProdutosNoCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AlterarQuantidadeDeProdutosNoCarrinho(System.Guid, E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.UpdateCarrinhoDeComprasDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 17:13:26.046 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 17:13:26.048 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.AlterarQuantidadeDeProdutosNoCarrinho (E-Commerce(API)) in 9.6222ms
2023-09-26 17:13:26.049 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AlterarQuantidadeDeProdutosNoCarrinho (E-Commerce(API))'
2023-09-26 17:13:26.056 -03:00 [ERR] Erro: {"TraceId":"69f7c1fb-a68b-4360-956d-bf150ab20b3e","Error":{"Logref":"BadRequest","Message":"O Id de Carrinho de Compras informado não existe.","$type":"ErrorDetailsDto"},"Data":"26/09/2023","$type":"ErrorResponseDto"}
2023-09-26 17:13:26.069 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/CarrinhoDeCompras/d02cec14-bcdd-459a-bb09-cd0dd4d3bdd9 application/json 84 - 400 - application/json 33.1700ms
2023-09-26 17:13:36.275 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f application/json 84
2023-09-26 17:13:36.275 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AlterarQuantidadeDeProdutosNoCarrinho (E-Commerce(API))'
2023-09-26 17:13:36.275 -03:00 [INF] Route matched with {action = "AlterarQuantidadeDeProdutosNoCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AlterarQuantidadeDeProdutosNoCarrinho(System.Guid, E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.UpdateCarrinhoDeComprasDto) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 17:13:36.277 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 17:13:36.278 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 17:13:36.279 -03:00 [INF] Iniciada pesquisa do produto "45f99c7f-8840-41c9-9980-3427d3a8492f".
2023-09-26 17:13:36.280 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
2023-09-26 17:13:36.292 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Logradouro`, `c`.`Nome`, `c`.`Numero`, `c`.`Status`, `c`.`UF`
FROM `CentrosDeDistribuicao` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-09-26 17:13:36.297 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CategoriaId`, `s`.`DataEHoraCriacao`, `s`.`DataEHoraModificacao`, `s`.`Nome`, `s`.`Status`
FROM `Subcategorias` AS `s`
WHERE `s`.`Id` = @__get_Item_0
2023-09-26 17:13:36.303 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`DataEHoraCriacao`, `c`.`DataEHoraModificacao`, `c`.`Nome`, `c`.`Status`
FROM `Categorias` AS `c`
WHERE `c`.`Id` = @__get_Item_0
2023-09-26 17:13:36.330 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p9='?' (DbType = UInt32), @p10='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();

UPDATE `ProdutosNoCarrinho` SET `Quantidade` = @p9, `ValorUnitario` = @p10
WHERE `CarrinhoDeComprasId` = @p11 AND `ProdutoId` = @p12;
SELECT ROW_COUNT();
2023-09-26 17:13:36.346 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 17:13:36.352 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 17:13:36.354 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 17:13:36.359 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p0='?' (DbType = UInt32), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `ProdutosNoCarrinho` SET `Quantidade` = @p0, `ValorUnitario` = @p1
WHERE `CarrinhoDeComprasId` = @p2 AND `ProdutoId` = @p3;
SELECT ROW_COUNT();
2023-09-26 17:13:36.359 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 17:13:36.360 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.AlterarQuantidadeDeProdutosNoCarrinho (E-Commerce(API)) in 85.2619ms
2023-09-26 17:13:36.360 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.AlterarQuantidadeDeProdutosNoCarrinho (E-Commerce(API))'
2023-09-26 17:13:36.360 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f application/json 84 - 200 502 application/json;+charset=utf-8 85.7100ms
2023-09-26 17:14:05.409 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - -
2023-09-26 17:14:05.410 -03:00 [INF] Executing endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:14:05.410 -03:00 [INF] Route matched with {action = "GetCarrinho", controller = "CarrinhoDeCompras"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCarrinho(System.Guid) on controller E_Commerce_API_.Controllers.CarrinhoDeComprasController (E-Commerce(API)).
2023-09-26 17:14:05.413 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__carrinhoDeComprasId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Bairro`, `c`.`CEP`, `c`.`Cidade`, `c`.`Complemento`, `c`.`Logradouro`, `c`.`Numero`, `c`.`UF`, `c`.`ValorTotal`
FROM `CarrinhosDeCompras` AS `c`
WHERE `c`.`Id` = @__carrinhoDeComprasId_0
LIMIT 1
2023-09-26 17:14:05.415 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__get_Item_0
2023-09-26 17:14:05.416 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:14:05.418 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Altura`, `p`.`CentroDeDistribuicaoId`, `p`.`Comprimento`, `p`.`DataEHoraCriacao`, `p`.`DataEHoraModificacao`, `p`.`Descricao`, `p`.`Largura`, `p`.`Nome`, `p`.`Peso`, `p`.`QuantidadeEmEstoque`, `p`.`Status`, `p`.`SubcategoriaId`, `p`.`Valor`
FROM `Produtos` AS `p`
WHERE `p`.`Id` = @__get_Item_0
2023-09-26 17:14:05.419 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = UInt32), @p6='?' (Size = 4000), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `CarrinhosDeCompras` SET `Bairro` = @p0, `CEP` = @p1, `Cidade` = @p2, `Complemento` = @p3, `Logradouro` = @p4, `Numero` = @p5, `UF` = @p6, `ValorTotal` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2023-09-26 17:14:05.420 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`CarrinhoDeComprasId`, `p`.`ProdutoId`, `p`.`Quantidade`, `p`.`ValorUnitario`
FROM `ProdutosNoCarrinho` AS `p`
WHERE `p`.`CarrinhoDeComprasId` = @__id_0
2023-09-26 17:14:05.421 -03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce_API_.Data.DTOs.CarrinhoDeComprasDto.ReadCarrinhoDeComprasDto'.
2023-09-26 17:14:05.421 -03:00 [INF] Executed action E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API)) in 11.0686ms
2023-09-26 17:14:05.421 -03:00 [INF] Executed endpoint 'E_Commerce_API_.Controllers.CarrinhoDeComprasController.GetCarrinho (E-Commerce(API))'
2023-09-26 17:14:05.421 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7296/CarrinhoDeCompras/39387a80-299f-48e0-a920-45239297b15f - - - 200 449 application/json;+charset=utf-8 11.5944ms
